{% extends 'Base.html' %}

{% block Head %}
	<title>Home</title>
{% endblock %}

{% block Body %}
	<form action="" method="get" class="col-md-5">
		{{ form.as_p }}
		<input type="submit" value="Search" />
	</form>
	<br/>
	<h2>Posts in order of newest to oldest</h2>
	<hr/>
	<div class="card">
		<ul class="card-body">
			{% for post in posts %}
				<li>
					<a href="{{ post.get_absolute_url }}">
						<pre>
							{{ post.author }}:  {{ post.title|truncatewords:10 }}
							Last updated at: {{ post.date_updated|timesince }}
						</pre>
					</a>
				</li>
			{% empty %}
				<h3>No posts submitted so far</h3>
			{% endfor %}
		</ul>
	</div>
	<br/>
	<nav aria-label="...">
        <ul class="pagination">
            <li class="page-item {% if not posts.has_previous %} disabled {% endif %}">
                <a class="page-link"
                   href="{% url 'Home:Home' %}?page={% if posts.has_previous %}{{ posts.previous_page_number }}{% else %}1{% endif %}">
	                Previous
                </a>
            </li>
            {% for pages in posts.paginator.page_range %}
	            <li class="page-item {% if posts.number == pages %} active {% endif %}" aria-current="page">
	                <a class="page-link" href="{% url 'Home:Home' %}?page={{ pages }}">{{ pages }}</a>
	            </li>
	        {% endfor %}
            <li class="page-item {% if not posts.has_next %} disabled {% endif %}">
                <a class="page-link"
                   href="{% url 'Home:Home' %}?page={% if posts.has_next %}{{ posts.next_page_number }}{% else %}{{ posts.number }}{% endif %}">
	                Next
                </a>
            </li>
        </ul>
	</nav>
{% endblock %}