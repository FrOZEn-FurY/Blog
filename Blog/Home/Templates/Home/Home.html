{% extends 'Base.html' %}

{% block Head %}
	<title>Home</title>
{% endblock %}

{% block Body %}
	<form action="" method="get" class="col-md-5">
		{{ form.as_p }}
		<input type="submit" value="Search" />
	</form>
	<br/>
	<h2>Posts in order of newest to oldest</h2>
	<hr/>
	<div class="card">
		<ul class="card-body">
			{% for post in posts %}
				<li>
					<a href="{{ post.get_absolute_url }}">
						<pre>
							{{ post.author }}:  {{ post.title|truncatewords:10 }}
							Last updated at: {{ post.date_updated|timesince }}
						</pre>
					</a>
				</li>
			{% empty %}
				<h3>No posts submitted so far</h3>
			{% endfor %}
		</ul>
	</div>
	<div class="pagination">
		<div class="step-links">
			{% if posts.has_previous %}
				<a href="{% url 'Home:Home' %}/?page=1">1</a>
				{% if previous_page_dif > 1 %}
					<span>...</span>
				{% endif %}
				<a href="{% url 'Home:Home' %}/?page={{ posts.previous_page_number }}">{{ posts.previous_page_number }}</a>
			{% endif %}

			<span class="current">
				Page {{ posts.number }} out of {{ posts.paginator.num_pages }}
			</span>

			{% if posts.has_next %}
				<a href="{% url 'Home:Home' %}/?page={{ posts.next_page_number }}">{{ posts.next_page_number }}</a>
				{% if next_page_dif > 1 %}
					<span>...</span>
				{% endif %}
				<a href="{% url 'Home:Home' %}/?page={{ posts.paginator.num_pages }}">{{ posts.paginator.num_pages }}</a>
			{% endif %}
		</div>
	</div>
{% endblock %}